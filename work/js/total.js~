function displayTotal(){
    calcTotal();

    for(var key in total_status){
        $("#total_" + key).html(total_status[key]);
    }
}

function calcTotal(){
    initTotal();
    addCharacterStatus();
    addEquipmentsStatus();
    addSetBonusStatus();
    addFinalBonusStatus();
}

// 総合ステータスを初期化
function initTotal(){
    for(var key in status_power_dict){
	    total_status[key] = 0;
    }

    total_status["Prospecting"] = 100;
    total_status["Vitality"] = 50;
}

// キャラクターのステータスを追加
function addCharacterStatus(){
    if(character["Class"] == "Enutrof"){
        total_status["Prospecting"] += 20;
    }

    total_status["Vitality"] += eval(character["Level"])*5;

    for(var key in character["Status"]){
        var value = character["Status"][key]["Total"];
        total_status[key] += eval(value);
    }
}

// 装備ステータスを追加
function addEquipmentsStatus(){
    for(var key in equipments){
        var item = equipments[key];

        var status = item["Status"];
        for(var type in status){
            total_status[type] += eval(status[type]);
        }
    }
}

// セットボーナスを追加
function addSetBonusStatus(){
    for(var key in sets){
        var status = set_status_json[key][sets[key] - 1];
        for(var type in status){
            total_status[type] += eval(status[type]);
        }
    }
}

// 最終ボーナスを追加
function addFinalBonusStatus(){
    total_status["Prospecting"] += eval(total_status["Chance"])/10;

    var init = 0;
    init += eval(total_status["Strength"]);
    init += eval(total_status["Intelligence"]);
    init += eval(total_status["Agility"]);
    init += eval(total_status["Chance"]);
    total_status["Initiative"] += init;
}